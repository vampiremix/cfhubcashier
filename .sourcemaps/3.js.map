{"version":3,"sources":["../../src/pages/menu/menu.module.ts","../../src/pages/menu/menu.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MenuPage } from './menu';\n\n@NgModule({\n  declarations: [\n    MenuPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MenuPage),\n  ],\n})\nexport class MenuPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/menu/menu.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, PopoverController, ModalController, LoadingController } from 'ionic-angular';\nimport { ProductsProvider } from '../../providers/products/products';\nimport { ProductsViewModel } from '../../models/products.model';\nimport { OrdersProvider } from '../../providers/orders/orders';\nimport { PopOverComponent } from \"../../components/pop-over/pop-over\";\nimport { CalculatePage } from '../calculate/calculate';\nimport { CategoriesProvider } from \"../../providers/categories/categories\";\nimport { SelectCupComponent } from '../../components/select-cup/select-cup';\n// import { categoriesModel, filterCatergoryModel } from '../../models/categories.model';\n/**\n * Generated class for the MenuPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-menu',\n  templateUrl: 'menu.html',\n})\nexport class MenuPage {\n\n  public productsData: Array<ProductsViewModel> = new Array<ProductsViewModel>();\n  public category = \"Drink\";\n  public prod_drink: Array<any> = new Array;\n  public prod_dessert: Array<any> = new Array;\n  public prod_food: Array<any> = new Array;\n  public catlength;\n  public state = 1;\n  public loading;\n  public calModal;\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    private productsPVD: ProductsProvider,\n    private ordersPVD: OrdersProvider,\n    public toastCtrl: ToastController,\n    public popoverCtrl: PopoverController,\n    public modalCtrl: ModalController,\n    public categoriesPVD: CategoriesProvider,\n    public loadingCtrl: LoadingController\n  ) {\n\n  }\n\n  ionViewDidLoad() {\n    this.initailze();\n    console.log('ionViewDidLoad MenuPage');\n  }\n\n  filterProductDrink(list) {\n    return list.category.name == \"Drink\";\n  }\n  filterProductDessert(list) {\n    return list.category.name == 'Dessert';\n  }\n  filterProductFood(list) {\n    return list.category.name == 'Food';\n  }\n\n  gotoCalculate() {\n    if (this.ordersPVD.order.length) {\n      this.calModal = this.modalCtrl.create(CalculatePage);\n      this.calModal.present();\n    } else {\n      let toast = this.toastCtrl.create({\n        message: 'No order to calculate',\n        duration: 3000,\n        position: 'middle',\n        cssClass: 'toasttextcenter'\n      });\n      toast.present();\n    }\n  }\n\n  dissmissCalModal(){\n    this.calModal.dismiss();\n  }\n\n  addtoOrder(ev, item) {\n    if (item.category.name == 'Drink') {\n      let popover = this.popoverCtrl.create(SelectCupComponent, item);\n      popover.present({\n        ev: ev\n      });\n      popover.onDidDismiss((selected) => {\n        // alert(\"GET :\" + selected);\n        if (selected) {\n          this.ordersPVD.order.push(\n            { product: item, qty: 1, selectedPrice: selected }\n          )\n        }\n      });\n    } else if (item.price.length == 1 && item.category.name !== 'Drink') {\n\n      this.ordersPVD.order.push(\n        { product: item, qty: 1, selectedPrice: item.price[0] }\n      );\n    }\n\n    // console.log(\"test : \" + JSON.stringify(item));\n    // let prodItem = { name: '', price: 0 ,prices :0};\n\n    console.log(\"Result : \" + JSON.stringify(this.ordersPVD.order));\n  }\n\n  clearList() {\n    this.ordersPVD.order = [];\n  }\n\n  deleteOrder(index) {\n    console.log(index);\n    this.ordersPVD.order.splice(index, 1);\n  }\n\n  showOption(ev, item) {\n    // alert(item);\n    let popover = this.popoverCtrl.create(PopOverComponent, item);\n    popover.present({\n      ev: ev\n    });\n    popover.onDidDismiss((opt1) => {\n      alert(\"GET :\" + opt1);\n    });\n  }\n\n\n  initailze() {\n    let shop = JSON.parse(window.localStorage.getItem(\"shop\"));\n    // alert(\"Sh: \" + JSON.stringify(shop));\n    this.presentLoadingDefault();\n    console.log(\"Do initialize\");\n    this.loading.present();\n    this.productsPVD.getproduct(shop._id).then((data) => {\n      console.log(\"Data Pro : \" , JSON.stringify(data));\n      this.prod_drink = data.filter(this.filterProductDrink);\n      this.prod_dessert = data.filter(this.filterProductDessert);\n      this.prod_food = data.filter(this.filterProductFood);\n      this.loading.dismiss();\n    }).catch((err) => { this.loading.dismiss(); alert(\"Error get product : \" + err); });\n\n    // this.categoriesPVD.getCategory().then(data2 => {\n    //   console.log(\"cate : \" + data2);\n\n    // }\n    // ).catch((err) => alert(\"Error !\"));\n\n\n  }\n\n  presentLoadingDefault() {\n    this.loading = this.loadingCtrl.create({\n      content: 'Loading products...'\n    });\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/menu/menu.ts"],"sourceRoot":""}